<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chemical Solution Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    .container { background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h2 { margin-top: 0; }
    .section { margin-bottom: 20px; }
    label, select, input { display: block; width: 100%; margin-bottom: 10px; }
    button { padding: 10px 15px; font-size: 16px; background: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0056b3; }
    .result { margin-top: 15px; font-weight: bold; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Chemical Solution Calculator</h2>
    <div class="section">
      <label for="mode">Choose Mode:</label>
      <select id="mode" onchange="toggleMode()">
        <option value="solid">Solid to Liquid (grams)</option>
        <option value="liquid">Liquid to Liquid (dilution)</option>
      </select>
    </div>

    <div id="solid-form" class="section">
      <label for="typeSolid">Type:</label>
      <select id="typeSolid">
        <option value="mol">Molarity</option>
        <option value="eq">Normality</option>
      </select>
      <label>Molecular Weight (g/mol):</label>
      <input type="number" id="mw">
      <div id="eqFactorGroup">
        <label>Equivalence Factor:</label>
        <input type="number" id="eqFactor" value="1">
      </div>
      <label>Concentration (mol/L or eq/L):</label>
      <input type="number" id="concentrationSolid">
      <label>Volume Required (in mL):</label>
      <input type="number" id="volumeSolid">
      <button onclick="calculateSolid()">Calculate</button>
      <div class="result" id="resultSolid"></div>
    </div>

    <div id="liquid-form" class="section" style="display:none;">
      <label for="typeLiquid">Type:</label>
      <select id="typeLiquid">
        <option value="mol">Molarity</option>
        <option value="eq">Normality</option>
      </select>
      <label>Stock Concentration (mol/L or eq/L):</label>
      <input type="number" id="stockConcentration">
      <label>Required Concentration (mol/L or eq/L):</label>
      <input type="number" id="requiredConcentration">
      <label>Final Volume Required (in mL):</label>
      <input type="number" id="finalVolume">
      <button onclick="calculateLiquid()">Calculate</button>
      <div class="result" id="resultLiquid"></div>
    </div>
  </div>

  <script>
    function toggleMode() {
      const mode = document.getElementById("mode").value;
      document.getElementById("solid-form").style.display = mode === "solid" ? "block" : "none";
      document.getElementById("liquid-form").style.display = mode === "liquid" ? "block" : "none";
    }

    document.getElementById("typeSolid").addEventListener("change", () => {
      const isNormality = document.getElementById("typeSolid").value === "eq";
      document.getElementById("eqFactorGroup").style.display = isNormality ? "block" : "none";
    });

    function calculateSolid() {
      const mw = parseFloat(document.getElementById("mw").value);
      const conc = parseFloat(document.getElementById("concentrationSolid").value);
      const volML = parseFloat(document.getElementById("volumeSolid").value);
      const type = document.getElementById("typeSolid").value;
      const eqFactor = parseFloat(document.getElementById("eqFactor").value) || 1;

      const volL = volML / 1000.0;
      let grams = mw * conc * volL;
      if (type === "eq") grams /= eqFactor;

      document.getElementById("resultSolid").innerText = `Dissolve ${grams.toFixed(2)} grams of the chemical.`;
    }

    function calculateLiquid() {
      const C1 = parseFloat(document.getElementById("stockConcentration").value);
      const C2 = parseFloat(document.getElementById("requiredConcentration").value);
      const V2 = parseFloat(document.getElementById("finalVolume").value);

      const V1 = (C2 * V2) / C1;
      document.getElementById("resultLiquid").innerText = `Use ${V1.toFixed(2)} mL of the stock solution and dilute to ${V2.toFixed(2)} mL.`;
    }
  </script>
</body>
</html>
